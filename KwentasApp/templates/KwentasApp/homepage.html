{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kwentas Klaras - Home</title>
    <!-- Font Awesome CDN-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
    <!-- Stylesheet -->
    <link rel="stylesheet" href="{% static 'KwentasApp/css/homepage.css' %}" />
  </head>
  <body>
    <section>
      <div class="row">
        <h1 class="section-heading">KWENTAS KLARAS DIGITAL PMIS V 1.0</h1>
      </div>
      <div class="row">
        <div class="column">
          <div class="card">
            <div class="icon-wrapper">
              <i class="fas fa-project-diagram"></i>
            </div>
            <h3>Programs Projects & Activities under 20% LDF</h3>
            <p>
              <form action="{% url 'continuing_projects' %}" method="get">
                <button type="submit" class="btn"><i class="fas fa-table"></i> Continuing</button>
              </form>
              <form action="{% url 'ongoing_projects' %}" method="get">
                <button type="submit" class="btn"><i class="fas fa-table"></i> Current </button>
              </form>
              <form action="{% url 'adddata' %}" method="get">
                <button type="submit" class="btn"><i class="fas fa-search"></i> Add Data</button>
              </form>
            </p>
          </div>
        </div>
        <div class="column">
          <div class="card">
            <div class="icon-wrapper">
              <i class="fas fa-money-bill-alt"></i>
            </div>
            <h3>PROCUREMENTS</h3>
            <p>
              <button type="button" class="btn">PPMP</button>
              <button type="button" class="btn">APP</button>
              <button type="button" class="btn">Procurement Timelines</button>
            </p>
          </div>
        </div>
        <div class="column">
          <div class="card">
            <div class="icon-wrapper">
              <i class="fas fa-money-check-alt"></i>
            </div>
            <h3>OBLIGATIONS / DISBURSEMENTS</h3>
            <form action="" method="get">
              <button type="submit" class="btn">Obligations</button>
            </form>
            <p>
              <form action="" method="get">
                <button type="submit" class="btn">Disbursement</button>
              </form>
              <button type="button" class="btn">Check Payment</button>
            </p>
          </div>
        </div>
        <div class="column">
          <div class="card">
            <div class="icon-wrapper">
              <i class="fas fa-eye"></i>
            </div>
            <h3>MONITORING & EVALUATION</h3>
            <p>
              Monitor and evaluate existing projects.
            </p>
          </div>
        </div>
        <div class="column">
          <a href="{% url 'reports' %}" style="text-decoration: none;">
            <div class="card">
                <div class="icon-wrapper">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3>REPORTS</h3>
                <p>
                    View Reports
                </p>
            </div>
        </a>
        </div>
        <div class="column">
          <div class="card">
            <div class="icon-wrapper">
              <i class="fas fa-person"></i>
            </div>
            <h3>ACCOUNT</h3>
            <p>
              <form action="{% url 'admin:index' %}" method="post">
                {% csrf_token %}
                <button type="submit" class="btn"><i class="fas fa-person"></i> Admin</button>
              </form>
              <form action="{% url 'register' %}" method="post">
                {% csrf_token %}
                <button type="submit" class="btn"><i class="fas fa-add"></i> Add Account</button>
              </form>
              <form action="{% url 'logout' %}" method="post">
                {% csrf_token %}
                <button type="submit" class="btn"><i class="fas fa-sign-out-alt"></i> Logout</button>
              </form>
            </p>
          </div>
        </div>
      </div>
    </section>
    <ul class="notifications"></ul>
    <script>
      const notifications = document.querySelector(".notifications");
    
      // Object containing details for different types of toasts
      const toastDetails = {
          timer: 5000,
          success: {
              icon: 'fa-circle-check',
              text: 'Welcome to Kwentas Klaras, {{ user_name }}',
          }
      }
    
      const removeToast = (toast) => {
          toast.classList.add("hide");
          if (toast.timeoutId) clearTimeout(toast.timeoutId); // Clearing the timeout for the toast
          setTimeout(() => toast.remove(), 500); // Removing the toast after 500ms
      }
    
      const createToast = (id) => {
          // Getting the icon and text for the toast based on the id passed
          const { icon, text } = toastDetails[id];
          const toast = document.createElement("li"); // Creating a new 'li' element for the toast
          toast.className = `toast ${id}`; // Setting the classes for the toast
          // Setting the inner HTML for the toast
          toast.innerHTML = `<div class="column">
                               <i class="fa-solid ${icon}"></i>
                               <span>${text}</span>
                            </div>
                            <i class="fa-solid fa-xmark" onclick="removeToast(this.parentElement)"></i>`;
          notifications.appendChild(toast); // Append the toast to the notification ul
          // Setting a timeout to remove the toast after the specified duration
          toast.timeoutId = setTimeout(() => removeToast(toast), toastDetails.timer);
      }
    
      // Function to show a toast message after logging in
      const showLoginToast = () => {
        createToast('success');
      }
    
      // Call the function to show the toast when the page loads
      window.addEventListener('DOMContentLoaded', (event) => {
        showLoginToast();
      });
    </script>


<script>
  document.addEventListener('DOMContentLoaded', function () {
  const body = document.querySelector('body');

  // Add class to body when page loads
  body.classList.add('page-loaded');
});
</script>
  </body>
</html>
